import{_ as L,c as n,o as l,a as s,b as w,t as i,w as T,v as V,F as H,r as x,d as M,e as f,f as I,g as m,n as A,h as C,i as W,j as O,k as j}from"./index-WKEXi-oC.js";import{n as $}from"./TheIslandNavbar-Pc1lRzgC.js";const E={name:"PlayerDayStats",setup(){const r=f(1),a=f("Timeline"),c=f({players:{},days:{}}),e=f(null),_=f([]),h=f(!1);I(async()=>{const d=await fetch("/data/season1Players.json");c.value=await d.json()});const t=m(()=>Object.keys(c.value.days).length),o=m(()=>{const d=c.value.players,p=c.value.days[r.value]||{};if(a.value==="Timeline")return Object.keys(p).map(y=>{const k=d[y]||{},v=p[y],u=v.status??"Alive";return{id:y,name:k.name??y,avatar:k.avatar??"",status:u,role:v.role??"N/A",health:v.health??"N/A",food:v.food??"N/A",voteCount:v.votes?.length??0,deathInfo:u==="Dead"?`â˜  Died on Day ${r.value}`:u==="Kicked Off"?`ðŸ‘¢ Kicked Off on Day ${r.value}`:null}});let b=Object.keys(d).map(y=>{const k=d[y],v=p[y]||{},u=v.status??"Alive";return{id:y,name:k.name,avatar:k.avatar,status:u,role:v.role??"N/A",health:v.health??"N/A",food:v.food??"N/A",voteCount:v.votes?.length??0,deathInfo:u==="Dead"?"â˜  Died":u==="Kicked Off"?"ðŸ‘¢ Kicked Off":null}});return a.value!=="All"&&(b=b.filter(y=>y.status===a.value)),b});function g(d){const p=c.value.players,b=c.value.days;e.value=p[d];const y=[];Object.keys(b).forEach(k=>{const u=b[k][d];if(u){const K=u.status??"Alive";y.push({day:k,role:u.role,health:u.health,food:u.food,votes:u.votes?.length??0,status:K})}}),_.value=y,h.value=!0}function D(){h.value=!1}function S(){r.value<t.value&&r.value++}function F(){r.value>1&&r.value--}function N(d){return{alive:d==="Alive",dead:d==="Dead",kicked:d==="Kicked Off"}}const P=m(()=>{const d=c.value.days[r.value]||{};return Object.keys(d).length});return{currentDay:r,filterStatus:a,data:c,maxDay:t,playersForDay:o,nextDay:S,prevDay:F,getCardClass:N,selectedPlayer:e,selectedPlayerHistory:_,showHistory:h,viewHistory:g,closeHistory:D,playersCountForDay:P}}},R={class:"container"},B={class:"day-nav"},z=["disabled"],U=["disabled"],X={class:"player-count"},q={class:"filters"},G={class:"cards"},J=["onClick"],Q=["src"],Y={class:"name"},Z={class:"role"},tt={class:"stat"},et={class:"stat"},st={class:"stat"},at={key:1,class:"death-info"},ot={class:"history-box"},nt={class:"status-tag"},lt={class:"history-list"},rt={key:0},it={key:1};function ct(r,a,c,e,_,h){return l(),n("div",R,[s("div",B,[s("button",{onClick:a[0]||(a[0]=(...t)=>e.prevDay&&e.prevDay(...t)),disabled:e.currentDay===1},"Prev",8,z),s("h2",null,"Day "+i(e.currentDay),1),s("button",{onClick:a[1]||(a[1]=(...t)=>e.nextDay&&e.nextDay(...t)),disabled:e.currentDay===e.maxDay},"Next",8,U)]),s("div",X,[s("h3",null,"Players Today: "+i(e.playersCountForDay),1)]),s("div",q,[a[6]||(a[6]=s("label",null,"Select Mode: ",-1)),T(s("select",{"onUpdate:modelValue":a[2]||(a[2]=t=>e.filterStatus=t)},a[5]||(a[5]=[s("option",null,"Timeline",-1),s("option",null,"Alive",-1),s("option",null,"Dead",-1),s("option",null,"Kicked Off",-1),s("option",null,"All",-1)]),512),[[V,e.filterStatus]])]),s("div",G,[(l(!0),n(H,null,x(e.playersForDay,t=>(l(),n("div",{key:t.id,class:A(["player-card",e.getCardClass(t.status)]),onClick:o=>e.viewHistory(t.id)},[t.avatar?(l(),n("img",{key:0,src:t.avatar,class:"avatar"},null,8,Q)):w("",!0),s("h3",Y,i(t.name),1),s("p",Z,[a[7]||(a[7]=C("Role: ",-1)),s("span",null,i(t.role),1)]),s("p",tt,"â¤ï¸ Health: "+i(t.health),1),s("p",et,"ðŸ— Food: "+i(t.food),1),s("p",st,"ðŸ—³ï¸ Votes: "+i(t.voteCount),1),t.deathInfo?(l(),n("p",at,i(t.deathInfo),1)):w("",!0)],10,J))),128))]),e.showHistory?(l(),n("div",{key:0,class:"history-overlay",onClick:a[4]||(a[4]=M((...t)=>e.closeHistory&&e.closeHistory(...t),["self"]))},[s("div",ot,[s("button",{class:"close-btn",onClick:a[3]||(a[3]=(...t)=>e.closeHistory&&e.closeHistory(...t))},"X"),s("h2",null,i(e.selectedPlayer.name)+" â€” History",1),s("p",nt,i(e.selectedPlayer.status),1),s("div",lt,[(l(!0),n(H,null,x(e.selectedPlayerHistory,t=>(l(),n("div",{key:t.day,class:"history-entry"},[s("h3",null,"Day "+i(t.day),1),s("p",null,[a[8]||(a[8]=s("strong",null,"Role:",-1)),C(" "+i(t.role),1)]),s("p",null,[a[9]||(a[9]=s("strong",null,"Health:",-1)),C(" "+i(t.health),1)]),s("p",null,[a[10]||(a[10]=s("strong",null,"Food:",-1)),C(" "+i(t.food),1)]),s("p",null,[a[11]||(a[11]=s("strong",null,"Votes:",-1)),C(" "+i(t.votes),1)]),t.status==="Dead"?(l(),n("p",rt,"â˜  Died on Day "+i(t.day),1)):w("",!0),t.status==="Kicked Off"?(l(),n("p",it,"ðŸ‘¢ Kicked Off on Day "+i(t.day),1)):w("",!0)]))),128))])])])):w("",!0)])}const dt=L(E,[["render",ct],["__scopeId","data-v-d0e3329b"]]),ut={name:"IslandDailyLogs",setup(){const r=f({}),a=f(""),c=f(!0);I(async()=>{try{const t=await fetch("/data/season1logs.json");if(!t.ok)throw new Error("Failed to load daily logs");r.value=await t.json();const o=Object.keys(r.value);o.length>0&&(a.value=o[0])}catch(t){console.error("Error:",t)}finally{c.value=!1}});const _=m(()=>Object.keys(r.value)),h=m(()=>r.value[a.value]||[]);return{logsRaw:r,selectedDay:a,dayList:_,currentLogs:h,loading:c}}},yt={class:"log-container"},vt={class:"day-selector"},ft=["onClick"],ht={key:0,class:"logs-box"},_t={key:0,class:"no-logs"},gt={key:1},kt={key:1,class:"loading"};function mt(r,a,c,e,_,h){return l(),n("div",yt,[a[0]||(a[0]=s("h2",{class:"title"},"ðŸ“œ Island Activity Logs",-1)),s("div",vt,[(l(!0),n(H,null,x(e.dayList,t=>(l(),n("button",{key:t,class:A(["day-btn",{active:e.selectedDay===t}]),onClick:o=>e.selectedDay=t},i(t),11,ft))),128))]),e.loading?(l(),n("div",kt,"Loading logs...")):(l(),n("div",ht,[e.currentLogs.length===0?(l(),n("div",_t," No actions recorded for this day. ")):(l(),n("ul",gt,[(l(!0),n(H,null,x(e.currentLogs,(t,o)=>(l(),n("li",{key:o,class:"log-entry"},i(t),1))),128))]))]))])}const Dt=L(ut,[["render",mt],["__scopeId","data-v-8d31b064"]]),bt={name:"ShowWeather",setup(){const r=f({}),a=f(""),c=f(!0);I(async()=>{try{const o=await fetch("/data/season1Weather.json");if(!o.ok)throw new Error("Failed to load weather data");r.value=await o.json();const g=Object.keys(r.value);g.length>0&&(a.value=g[0])}catch(o){console.error(o)}finally{c.value=!1}});const _=m(()=>Object.keys(r.value));function h(o){return o>=100?"Heat Wave":o>=80?"Hot":o>=70?"Clear":o>=60?"Rainy":o>=40?"Cold":"Freezing"}const t=m(()=>{const o=r.value[a.value];if(!o)return null;const g=o.temperature,D=o.weather||h(g),S=o.moon||"Unknown",F=o.effects;return{temp:g,weather:D,moon:S,effect:F,visualClass:D.replace(" ","-")}});return{selectedDay:a,dayList:_,currentData:t,loading:c}}},wt={class:"weather-container"},Ct={class:"day-selector"},pt=["onClick"],Ht={key:0,class:"info-box"},xt={class:"weather-details"},Ot={class:"weather-title"},jt={class:"temp"},At={class:"moon-text"},Lt={class:"moon-value"},St={key:1,class:"loading"};function Ft(r,a,c,e,_,h){return l(),n("div",wt,[a[1]||(a[1]=s("h2",{class:"title"},"Island Weather, Moon, and Affects",-1)),s("div",Ct,[(l(!0),n(H,null,x(e.dayList,t=>(l(),n("button",{key:t,class:A(["day-btn",{active:e.selectedDay===t}]),onClick:o=>e.selectedDay=t},i(t),11,pt))),128))]),!e.loading&&e.currentData?(l(),n("div",Ht,[s("div",{class:A(["weather-visual",e.currentData.visualClass])},null,2),s("div",xt,[s("div",Ot,i(e.currentData.weather),1),s("div",jt,i(e.currentData.temp)+"Â°F",1),s("div",At,[a[0]||(a[0]=C(" ðŸŒ™ Moon Phase: ",-1)),s("span",Lt,i(e.currentData.moon),1)]),s("span",null,i(e.currentData.effect),1)])])):e.loading?(l(),n("div",St,"Loading weatherâ€¦")):w("",!0)])}const It=L(bt,[["render",Ft],["__scopeId","data-v-fc47e27a"]]),Nt=W({name:"TheIslandHome",components:{islandStats:dt,logs:Dt,weather:It,navbar:$},mounted(){document.body.style.background="linear-gradient(90deg,rgba(0, 0, 0, 1) 0%, rgba(75, 0, 102, 1) 100%)"}}),Pt={class:"main-container"};function Kt(r,a,c,e,_,h){const t=j("navbar"),o=j("weather"),g=j("islandStats"),D=j("logs");return l(),n("div",null,[O(t),s("div",Pt,[O(o),O(g),O(D)])])}const Mt=L(Nt,[["render",Kt],["__scopeId","data-v-282f4a40"]]);export{Mt as default};
