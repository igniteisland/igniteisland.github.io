import{r as D,_ as S,c as n,o as l,a,b as C,t as r,w as V,v as M,F as O,d as j,e as W,f as P,g as m,n as L,h as H,i as $,j as A,k as N}from"./index-DWGponFF.js";import{n as R}from"./TheIslandNavbar-9mmTo0tw.js";const g=D(5),B={name:"PlayerDayStats",setup(){const o=g,s=D("Timeline"),c=D({players:{},days:{}}),t=D(null),k=D([]),h=D(!1);P(async()=>{const u=await fetch("/data/season1Players.json");c.value=await u.json()});const e=m(()=>Object.keys(c.value.days).length),d=m(()=>{const u=c.value.players,x=c.value.days[o.value]||{};if(s.value==="Timeline")return Object.keys(x).map(v=>{const b=u[v]||{},f=x[v],y=f.status??"Alive";return{id:v,name:b.name??v,avatar:b.avatar??"",status:y,role:f.role??"N/A",health:f.health??"N/A",food:f.food??"N/A",voteCount:f.votes?.length??0,deathInfo:y==="Dead"?`â˜  Died on Day ${o.value}`:y==="Kicked Off"?`ðŸ‘¢ Kicked Off on Day ${o.value}`:null}});let p=Object.keys(u).map(v=>{const b=u[v],f=x[v]||{},y=f.status??"Alive";return{id:v,name:b.name,avatar:b.avatar,status:y,role:f.role??"N/A",health:f.health??"N/A",food:f.food??"N/A",voteCount:f.votes?.length??0,deathInfo:y==="Dead"?"â˜  Died":y==="Kicked Off"?"ðŸ‘¢ Kicked Off":null}});return s.value!=="All"&&(p=p.filter(v=>v.status===s.value)),p});function i(u){const x=c.value.players,p=c.value.days;t.value=x[u];const v=[];Object.keys(p).forEach(b=>{const y=p[b][u];if(y){const T=y.status??"Alive";v.push({day:b,role:y.role,health:y.health,food:y.food,votes:y.votes?.length??0,status:T})}}),k.value=v,h.value=!0}function _(){h.value=!1}function w(){o.value<e.value&&o.value++}function I(){o.value>1&&o.value--}function F(u){return{alive:u==="Alive",dead:u==="Dead",kicked:u==="Kicked Off"}}const K=m(()=>{const u=c.value.days[o.value]||{};return Object.keys(u).length});return{currentDay:o,filterStatus:s,data:c,maxDay:e,playersForDay:d,nextDay:w,prevDay:I,getCardClass:F,selectedPlayer:t,selectedPlayerHistory:k,showHistory:h,viewHistory:i,closeHistory:_,playersCountForDay:K}}},E={class:"container"},z={class:"day-nav"},U=["disabled"],X=["disabled"],q={class:"player-count"},G={class:"filters"},J={class:"cards"},Q=["onClick"],Y=["src"],Z={class:"name"},ee={class:"role"},te={class:"stat"},ae={class:"stat"},se={class:"stat"},oe={key:1,class:"death-info"},ne={class:"history-box"},le={class:"status-tag"},re={class:"history-list"},ie={key:0},ce={key:1};function de(o,s,c,t,k,h){return l(),n("div",E,[a("div",z,[a("button",{onClick:s[0]||(s[0]=(...e)=>t.prevDay&&t.prevDay(...e)),disabled:t.currentDay===1},"Prev",8,U),a("h2",null,"Day "+r(t.currentDay),1),a("button",{onClick:s[1]||(s[1]=(...e)=>t.nextDay&&t.nextDay(...e)),disabled:t.currentDay===t.maxDay},"Next",8,X)]),a("div",q,[a("h3",null,"Players Today: "+r(t.playersCountForDay),1)]),a("div",G,[s[6]||(s[6]=a("label",null,"Select Mode: ",-1)),V(a("select",{"onUpdate:modelValue":s[2]||(s[2]=e=>t.filterStatus=e)},s[5]||(s[5]=[a("option",null,"Timeline",-1),a("option",null,"Alive",-1),a("option",null,"Dead",-1),a("option",null,"Kicked Off",-1),a("option",null,"All",-1)]),512),[[M,t.filterStatus]])]),a("div",J,[(l(!0),n(O,null,j(t.playersForDay,e=>(l(),n("div",{key:e.id,class:L(["player-card",t.getCardClass(e.status)]),onClick:d=>t.viewHistory(e.id)},[e.avatar?(l(),n("img",{key:0,src:e.avatar,class:"avatar"},null,8,Y)):C("",!0),a("h3",Z,r(e.name),1),a("p",ee,[s[7]||(s[7]=H("Role: ",-1)),a("span",null,r(e.role),1)]),a("p",te,"â¤ï¸ Health: "+r(e.health),1),a("p",ae,"ðŸ— Food: "+r(e.food),1),a("p",se,"ðŸ—³ï¸ Votes: "+r(e.voteCount),1),e.deathInfo?(l(),n("p",oe,r(e.deathInfo),1)):C("",!0)],10,Q))),128))]),t.showHistory?(l(),n("div",{key:0,class:"history-overlay",onClick:s[4]||(s[4]=W((...e)=>t.closeHistory&&t.closeHistory(...e),["self"]))},[a("div",ne,[a("button",{class:"close-btn",onClick:s[3]||(s[3]=(...e)=>t.closeHistory&&t.closeHistory(...e))},"X"),a("h2",null,r(t.selectedPlayer.name)+" â€” History",1),a("p",le,r(t.selectedPlayer.status),1),a("div",re,[(l(!0),n(O,null,j(t.selectedPlayerHistory,e=>(l(),n("div",{key:e.day,class:"history-entry"},[a("h3",null,"Day "+r(e.day),1),a("p",null,[s[8]||(s[8]=a("strong",null,"Role:",-1)),H(" "+r(e.role),1)]),a("p",null,[s[9]||(s[9]=a("strong",null,"Health:",-1)),H(" "+r(e.health),1)]),a("p",null,[s[10]||(s[10]=a("strong",null,"Food:",-1)),H(" "+r(e.food),1)]),a("p",null,[s[11]||(s[11]=a("strong",null,"Votes:",-1)),H(" "+r(e.votes),1)]),e.status==="Dead"?(l(),n("p",ie,"â˜  Died on Day "+r(e.day),1)):C("",!0),e.status==="Kicked Off"?(l(),n("p",ce,"ðŸ‘¢ Kicked Off on Day "+r(e.day),1)):C("",!0)]))),128))])])])):C("",!0)])}const ue=S(B,[["render",de],["__scopeId","data-v-4280ec2f"]]),ye={name:"IslandDailyLogs",setup(){const o=D({}),s=m(()=>"Day "+g.value),c=D(!0);function t(d){g.value=Number(d.replace("Day ",""))}P(async()=>{try{const d=await fetch("/data/season1logs.json");if(o.value=await d.json(),o.value["Day 5"])g.value=5;else{const _=Object.keys(o.value);_.length>0&&(g.value=Number(_[0].replace("Day ","")))}}catch(d){console.error(d)}finally{c.value=!1}});const h=m(()=>Object.keys(o.value)),e=m(()=>o.value[s.value]||[]);return{logsRaw:o,selectedDay:s,dayList:h,currentLogs:e,loading:c,setDay:t}}},ve={class:"log-container"},fe={class:"day-selector"},he=["onClick"],_e={key:0,class:"logs-box"},De={key:0,class:"no-logs"},ge={key:1},me={key:1,class:"loading"};function ke(o,s,c,t,k,h){return l(),n("div",ve,[s[0]||(s[0]=a("h2",{class:"title"},"ðŸ“œ Island Activity Logs",-1)),a("div",fe,[(l(!0),n(O,null,j(t.dayList,e=>(l(),n("button",{key:e,class:L(["day-btn",{active:t.selectedDay===e}]),onClick:d=>t.setDay(e)},r(e),11,he))),128))]),t.loading?(l(),n("div",me,"Loading logs...")):(l(),n("div",_e,[t.currentLogs.length===0?(l(),n("div",De," No actions recorded for this day. ")):(l(),n("ul",ge,[(l(!0),n(O,null,j(t.currentLogs,(e,d)=>(l(),n("li",{key:d,class:"log-entry"},r(e),1))),128))]))]))])}const be=S(ye,[["render",ke],["__scopeId","data-v-450c93d0"]]),we={name:"ShowWeather",setup(){const o=D({}),s=m(()=>"Day "+g.value),c=D(!0);function t(i){g.value=Number(i.replace("Day ",""))}P(async()=>{try{const i=await fetch("/data/season1Weather.json");if(!i.ok)throw new Error("Failed to load weather data");if(o.value=await i.json(),o.value["Day 5"])g.value=5;else{const w=Object.keys(o.value);day.length>0&&(g.value=Number(w[0].replace("Day ","")))}}catch(i){console.error(i)}finally{c.value=!1}});const h=m(()=>Object.keys(o.value));function e(i){return i>=100?"Heat Wave":i>=80?"Hot":i>=70?"Clear":i>=60?"Rainy":i>=40?"Cold":"Freezing"}const d=m(()=>{const i=o.value[s.value];if(!i)return null;const _=i.temperature,w=i.weather||e(_),I=i.moon||"Unknown",F=i.effects;return{temp:_,weather:w,moon:I,effect:F,visualClass:w.replace(" ","-")}});return{selectedDay:s,dayList:h,currentData:d,loading:c,setDay:t}}},pe={class:"weather-container"},Ce={class:"day-selector"},He=["onClick"],xe={key:0,class:"info-box"},Oe={class:"weather-details"},je={class:"weather-title"},Ae={class:"temp"},Ne={class:"moon-text"},Le={class:"moon-value"},Se={key:1,class:"loading"};function Ie(o,s,c,t,k,h){return l(),n("div",pe,[s[1]||(s[1]=a("h2",{class:"title"},"Island Weather, Moon, and Affects",-1)),a("div",Ce,[(l(!0),n(O,null,j(t.dayList,e=>(l(),n("button",{key:e,class:L(["day-btn",{active:t.selectedDay===e}]),onClick:d=>t.setDay(e)},r(e),11,He))),128))]),!t.loading&&t.currentData?(l(),n("div",xe,[a("div",{class:L(["weather-visual",t.currentData.visualClass])},null,2),a("div",Oe,[a("div",je,r(t.currentData.weather),1),a("div",Ae,r(t.currentData.temp)+"Â°F",1),a("div",Ne,[s[0]||(s[0]=H(" ðŸŒ™ Moon Phase: ",-1)),a("span",Le,r(t.currentData.moon),1)]),a("span",null,r(t.currentData.effect),1)])])):t.loading?(l(),n("div",Se,"Loading weatherâ€¦")):C("",!0)])}const Fe=S(we,[["render",Ie],["__scopeId","data-v-0c33fd6f"]]),Pe=$({name:"TheIslandHome",components:{islandStats:ue,logs:be,weather:Fe,navbar:R},mounted(){document.body.style.background="linear-gradient(90deg,rgba(0, 0, 0, 1) 0%, rgba(75, 0, 102, 1) 100%)"}}),Ke={class:"main-container"};function Te(o,s,c,t,k,h){const e=N("navbar"),d=N("weather"),i=N("islandStats"),_=N("logs");return l(),n("div",null,[A(e),a("div",Ke,[A(d),A(i),A(_)])])}const We=S(Pe,[["render",Te],["__scopeId","data-v-0257312d"]]);export{We as default};
