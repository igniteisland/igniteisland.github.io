import{_ as P,c as r,o as l,a as s,t as _,F as C,d as k,n as w,b as I,r as b,f as N,g as D,i as H,j as p,k as g}from"./index-Dbx6hvDh.js";import{n as E}from"./TheIslandNavbar-C7egHVBp.js";const T={name:"IslandParlayCards",setup(){const u=b({}),e=b(""),v=b(!0);N(async()=>{try{const n=await fetch("/data/season1Parlays.json");if(!n.ok)throw new Error("Failed to load parlay data");u.value=await n.json();const c=Object.keys(u.value);c.length>0&&(e.value=c[0])}catch(n){console.error(n)}finally{v.value=!1}});const i=D(()=>Object.keys(u.value)),h=()=>{const n=i.value.indexOf(e.value);n>0&&(e.value=i.value[n-1])},a=()=>{const n=i.value.indexOf(e.value);n<i.value.length-1&&(e.value=i.value[n+1])},o=D(()=>e.value?u.value[e.value]||{}:{});return{loading:v,selectedDay:e,dayList:i,prevDay:h,nextDay:a,playersForDay:o,totalCost:n=>Object.values(n).reduce((c,m)=>c+Number(m.worth||0),0),allHit:n=>{const c=Object.values(n),m=c.reduce((f,F)=>f+Number(F.worth||0),0),L=c.length===3&&c.every(f=>f.hit===1),O=m>=650;return L&&O},statusLabel:n=>n===0?"PENDING":n===1?"HIT":"MISS",earnedAmount:n=>Object.values(n).filter(c=>c.hit===1).reduce((c,m)=>c+Number(m.worth||0),0)}}},A={class:"casino-wrapper"},B={class:"casino-header"},R=["disabled"],G=["disabled"],M={class:"casino-day"},S={key:0,class:"loading"},V={key:1,class:"casino-grid"},$={class:"total-cost"},z={key:0,class:"earned-amount"},U={key:1,class:"returning"},W=["src"],q={class:"casino-name"},J={class:"parlay-stack"},K={class:"parlay-text"},Q={class:"parlay-worth"},X={class:"parlay-status"};function Y(u,e,v,t,i,h){return l(),r("div",A,[s("div",B,[s("button",{class:"nav-btn",onClick:e[0]||(e[0]=(...a)=>t.prevDay&&t.prevDay(...a)),disabled:t.selectedDay===t.dayList[0]}," â—€ ",8,R),e[2]||(e[2]=s("h2",{class:"casino-title"}," Island Parlays ",-1)),s("button",{class:"nav-btn",onClick:e[1]||(e[1]=(...a)=>t.nextDay&&t.nextDay(...a)),disabled:t.selectedDay===t.dayList[t.dayList.length-1]}," â–¶ ",8,G)]),s("div",M,_(t.selectedDay),1),t.loading?(l(),r("div",S,"Getting Parlaysâ€¦")):(l(),r("div",V,[(l(!0),r(C,null,k(t.playersForDay,(a,o)=>(l(),r("div",{key:o,class:w(["casino-player",{gold:t.allHit(a.parlayCard)}])},[s("div",$," ðŸ§¾ "+_(t.totalCost(a.parlayCard)),1),t.earnedAmount(a.parlayCard)>0?(l(),r("div",z," ðŸ’° "+_(t.earnedAmount(a.parlayCard)),1)):I("",!0),t.allHit(a.parlayCard)?(l(),r("div",U," RETURNING ")):I("",!0),s("img",{src:a.profilePic,class:"casino-avatar"},null,8,W),s("h3",q,_(o),1),s("div",J,[(l(!0),r(C,null,k(a.parlayCard,(d,y)=>(l(),r("div",{key:y,class:w(["parlay-row",{pending:d.hit===0,hit:d.hit===1,miss:d.hit===2}])},[s("div",K,_(d.parlay),1),s("div",Q,_(d.worth),1),s("div",X,_(t.statusLabel(d.hit)),1)],2))),128))])],2))),128))]))])}const Z=P(T,[["render",Y],["__scopeId","data-v-5a03aa44"]]),aa={name:"IslandParlayLeaderboard",setup(){const u=b({}),e=b({}),v=b(!0);N(async()=>{try{const[a,o]=await Promise.all([fetch("/data/season1ParlayBase.json"),fetch("/data/season1Parlays.json")]);if(!a.ok||!o.ok)throw new Error("Failed to load leaderboard data");u.value=await a.json(),e.value=await o.json()}catch(a){console.error(a)}finally{v.value=!1}});const i=a=>{let o=0;return Object.values(e.value).forEach(d=>{d[a]?.parlayCard&&Object.values(d[a].parlayCard).forEach(y=>{y.hit===1&&(o+=Number(y.worth||0))})}),o},h=D(()=>Object.entries(u.value).map(([a,o])=>{const d=Number(o.base||0),y=Number(o.remove||0),j=i(a),x=d+j-y;return{name:a,total:x}}).sort((a,o)=>o.total-a.total));return{loading:v,leaderboard:h}}},ea={class:"leaderboard-wrapper"},ta={key:0,class:"loading"},sa={key:1,class:"leaderboard-table"},oa={class:"rank"},na={class:"name"},ra={class:"total"};function la(u,e,v,t,i,h){return l(),r("div",ea,[e[1]||(e[1]=s("h2",{class:"leaderboard-title"},"ðŸ† Parlay Wealth Leaderboard",-1)),t.loading?(l(),r("div",ta," Counting coinâ€¦ ")):(l(),r("div",sa,[e[0]||(e[0]=s("div",{class:"leaderboard-header"},[s("span",null,"#"),s("span",null,"Player"),s("span",null,"Total ðŸ’°")],-1)),(l(!0),r(C,null,k(t.leaderboard,(a,o)=>(l(),r("div",{key:a.name,class:w(["leaderboard-row",{top:o===0}])},[s("span",oa,"#"+_(o+1),1),s("span",na,_(a.name),1),s("span",ra,"ðŸ’° "+_(a.total),1)],2))),128))]))])}const da=P(aa,[["render",la],["__scopeId","data-v-14d9986d"]]),ca=H({name:"TheIslandHome",components:{Cards:Z,leaderboard:da,navbar:E},mounted(){document.body.style.background="linear-gradient(90deg,rgba(0, 0, 0, 1) 0%, rgba(75, 0, 102, 1) 100%)"}}),ia={class:"main-container"};function ua(u,e,v,t,i,h){const a=g("navbar"),o=g("leaderboard"),d=g("Cards");return l(),r("div",null,[p(a),s("div",ia,[p(o),p(d)])])}const ya=P(ca,[["render",ua],["__scopeId","data-v-fd3f5de2"]]);export{ya as default};
