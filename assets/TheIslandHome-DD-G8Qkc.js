import{r as m,_ as L,c as o,o as n,a,b as D,t as r,w as V,v as J,F as H,d as x,e as M,f as F,g as k,n as N,h as A,i as W,j as O,k as P}from"./index-COSSP7H0.js";import{n as $}from"./TheIslandNavbar-E6Hmb2KS.js";const g=m(8),R={name:"PlayerDayStats",setup(){const l=g,s=m("Timeline"),d=m({players:{},days:{}}),t=m(null),b=m([]),h=m(!1);F(async()=>{const v=await fetch("/data/season1Players.json");d.value=await v.json()});const e=k(()=>Object.keys(d.value.days).length),y=k(()=>{const v=d.value.players,j=d.value.days[l.value]||{};if(s.value==="Timeline")return Object.keys(j).map(f=>{const p=v[f]||{},c=j[f],u=c.status??"Alive";return{id:f,name:p.name??f,avatar:p.avatar??"",status:u,role:c.role??"N/A",health:c.health??"N/A",food:c.food??"N/A",voteCount:c.votes?.length??0,isJailed:c.jailed===1,hasPendant:c.pendant===1,hasArmor:c.armor===1,deathInfo:u==="Dead"?`â˜  Died on Day ${l.value}`:u==="Kicked Off"?`ðŸ‘¢ Kicked Off on Day ${l.value}`:null}});let C=Object.keys(v).map(f=>{const p=v[f],c=j[f]||{},u=c.status??"Alive";return{id:f,name:p.name,avatar:p.avatar,status:u,role:c.role??"N/A",health:c.health??"N/A",food:c.food??"N/A",voteCount:c.votes?.length??0,isJailed:c.jailed===1,hasPendant:c.pendant===1,hasArmor:c.armor===1,deathInfo:u==="Dead"?"â˜  Died":u==="Kicked Off"?"ðŸ‘¢ Kicked Off":null}});return s.value!=="All"&&(C=C.filter(f=>f.status===s.value)),C});function i(v){const j=d.value.players,C=d.value.days;t.value=j[v];const f=[];Object.keys(C).forEach(p=>{const u=C[p][v];if(u){const T=u.status??"Alive";f.push({day:p,role:u.role,health:u.health,food:u.food,votes:u.votes?.length??0,status:T,isJailed:u.jailed===1,hasPendant:u.pendant===1,hasArmor:u.armor===1})}}),b.value=f,h.value=!0}function _(){h.value=!1}function w(){l.value<e.value&&l.value++}function S(){l.value>1&&l.value--}function I(v){return{alive:v==="Alive",dead:v==="Dead",kicked:v==="Kicked Off"}}const K=k(()=>{const v=d.value.days[l.value]||{};return Object.keys(v).length});return{currentDay:l,filterStatus:s,data:d,maxDay:e,playersForDay:y,nextDay:w,prevDay:S,getCardClass:I,selectedPlayer:t,selectedPlayerHistory:b,showHistory:h,viewHistory:i,closeHistory:_,playersCountForDay:K}}},B={class:"container"},E={class:"day-nav"},z=["disabled"],U=["disabled"],X={class:"player-count"},q={class:"filters"},G={class:"cards"},Q=["onClick"],Y=["src"],Z={class:"name"},ee={class:"role"},te={class:"stat"},ae={class:"stat"},se={class:"stat"},oe={key:1,class:"death-info"},ne={class:"history-box"},le={class:"status-tag"},re={class:"history-list"},ie={key:0},de={key:1},ce={key:2},ue={key:3},ye={key:4};function ve(l,s,d,t,b,h){return n(),o("div",B,[a("div",E,[a("button",{onClick:s[0]||(s[0]=(...e)=>t.prevDay&&t.prevDay(...e)),disabled:t.currentDay===1},"Prev",8,z),a("h2",null,"Day "+r(t.currentDay),1),a("button",{onClick:s[1]||(s[1]=(...e)=>t.nextDay&&t.nextDay(...e)),disabled:t.currentDay===t.maxDay},"Next",8,U)]),a("div",X,[a("h3",null,"Players Today: "+r(t.playersCountForDay),1)]),a("div",q,[s[6]||(s[6]=a("label",null,"Select Mode: ",-1)),V(a("select",{"onUpdate:modelValue":s[2]||(s[2]=e=>t.filterStatus=e)},s[5]||(s[5]=[a("option",null,"Timeline",-1),a("option",null,"Alive",-1),a("option",null,"Dead",-1),a("option",null,"Kicked Off",-1),a("option",null,"All",-1)]),512),[[J,t.filterStatus]])]),a("div",G,[(n(!0),o(H,null,x(t.playersForDay,e=>(n(),o("div",{key:e.id,class:N(["player-card",t.getCardClass(e.status),{jailed:e.isJailed},{pendant:e.hasPendant},{armor:e.hasArmor}]),onClick:y=>t.viewHistory(e.id)},[e.avatar?(n(),o("img",{key:0,src:e.avatar,class:"avatar"},null,8,Y)):D("",!0),a("h3",Z,r(e.name),1),a("p",ee,[s[7]||(s[7]=A("Role: ",-1)),a("span",null,r(e.role),1)]),a("p",te,"â¤ï¸ Health: "+r(e.health),1),a("p",ae,"ðŸ— Food: "+r(e.food),1),a("p",se,"ðŸ—³ï¸ Votes: "+r(e.voteCount),1),e.deathInfo?(n(),o("p",oe,r(e.deathInfo),1)):D("",!0)],10,Q))),128))]),t.showHistory?(n(),o("div",{key:0,class:"history-overlay",onClick:s[4]||(s[4]=M((...e)=>t.closeHistory&&t.closeHistory(...e),["self"]))},[a("div",ne,[a("button",{class:"close-btn",onClick:s[3]||(s[3]=(...e)=>t.closeHistory&&t.closeHistory(...e))},"X"),a("h2",null,r(t.selectedPlayer.name)+" â€” History",1),a("p",le,r(t.selectedPlayer.status),1),a("div",re,[(n(!0),o(H,null,x(t.selectedPlayerHistory,e=>(n(),o("div",{key:e.day,class:"history-entry"},[a("h3",null,"Day "+r(e.day),1),a("p",null,[s[8]||(s[8]=a("strong",null,"Role:",-1)),A(" "+r(e.role),1)]),a("p",null,[s[9]||(s[9]=a("strong",null,"Health:",-1)),A(" "+r(e.health),1)]),a("p",null,[s[10]||(s[10]=a("strong",null,"Food:",-1)),A(" "+r(e.food),1)]),a("p",null,[s[11]||(s[11]=a("strong",null,"Votes:",-1)),A(" "+r(e.votes),1)]),e.status==="Dead"?(n(),o("p",ie,"â˜  Died on Day "+r(e.day),1)):D("",!0),e.status==="Kicked Off"?(n(),o("p",de,"ðŸ‘¢ Kicked Off on Day "+r(e.day),1)):D("",!0),e.isJailed?(n(),o("p",ce,"ðŸ”’ Jailed")):D("",!0),e.hasPendant?(n(),o("p",ue," âœ Pendant")):D("",!0),e.hasArmor?(n(),o("p",ye," ðŸ›¡ï¸ Armor")):D("",!0)]))),128))])])])):D("",!0)])}const fe=L(R,[["render",ve],["__scopeId","data-v-a36d9a60"]]),he={name:"IslandDailyLogs",setup(){const l=m({}),s=k(()=>"Day "+g.value),d=m(!0);function t(y){g.value=Number(y.replace("Day ",""))}F(async()=>{try{const y=await fetch("/data/season1logs.json");if(l.value=await y.json(),l.value["Day 8"])g.value=8;else{const _=Object.keys(l.value);_.length>0&&(g.value=Number(_[0].replace("Day ","")))}}catch(y){console.error(y)}finally{d.value=!1}});const h=k(()=>Object.keys(l.value)),e=k(()=>l.value[s.value]||[]);return{logsRaw:l,selectedDay:s,dayList:h,currentLogs:e,loading:d,setDay:t}}},_e={class:"log-container"},me={class:"day-selector"},De=["onClick"],ge={key:0,class:"logs-box"},ke={key:0,class:"no-logs"},be={key:1},pe={key:1,class:"loading"};function we(l,s,d,t,b,h){return n(),o("div",_e,[s[0]||(s[0]=a("h2",{class:"title"},"ðŸ“œ Island Activity Logs",-1)),a("div",me,[(n(!0),o(H,null,x(t.dayList,e=>(n(),o("button",{key:e,class:N(["day-btn",{active:t.selectedDay===e}]),onClick:y=>t.setDay(e)},r(e),11,De))),128))]),t.loading?(n(),o("div",pe,"Loading logs...")):(n(),o("div",ge,[t.currentLogs.length===0?(n(),o("div",ke," No actions recorded for this day. ")):(n(),o("ul",be,[(n(!0),o(H,null,x(t.currentLogs,(e,y)=>(n(),o("li",{key:y,class:"log-entry"},r(e),1))),128))]))]))])}const Ce=L(he,[["render",we],["__scopeId","data-v-00bee24a"]]),Ae={name:"ShowWeather",setup(){const l=m({}),s=k(()=>"Day "+g.value),d=m(!0);function t(i){g.value=Number(i.replace("Day ",""))}F(async()=>{try{const i=await fetch("/data/season1Weather.json");if(!i.ok)throw new Error("Failed to load weather data");if(l.value=await i.json(),l.value["Day 8"])g.value=8;else{const w=Object.keys(l.value);day.length>0&&(g.value=Number(w[0].replace("Day ","")))}}catch(i){console.error(i)}finally{d.value=!1}});const h=k(()=>Object.keys(l.value));function e(i){return i>=100?"Heat Wave":i>=80?"Hot":i>=70?"Clear":i>=60?"Rainy":i>=40?"Cold":"Freezing"}const y=k(()=>{const i=l.value[s.value];if(!i)return null;const _=i.temperature,w=i.weather||e(_),S=i.moon||"Unknown",I=i.effects;return{temp:_,weather:w,moon:S,effect:I,visualClass:w.replace(" ","-")}});return{selectedDay:s,dayList:h,currentData:y,loading:d,setDay:t}}},je={class:"weather-container"},He={class:"day-selector"},xe=["onClick"],Oe={key:0,class:"info-box"},Pe={class:"weather-details"},Ne={class:"weather-title"},Le={class:"temp"},Se={class:"moon-text"},Ie={class:"moon-value"},Fe={key:1,class:"loading"};function Ke(l,s,d,t,b,h){return n(),o("div",je,[s[1]||(s[1]=a("h2",{class:"title"},"Island Weather, Moon, and Affects",-1)),a("div",He,[(n(!0),o(H,null,x(t.dayList,e=>(n(),o("button",{key:e,class:N(["day-btn",{active:t.selectedDay===e}]),onClick:y=>t.setDay(e)},r(e),11,xe))),128))]),!t.loading&&t.currentData?(n(),o("div",Oe,[a("div",{class:N(["weather-visual",t.currentData.visualClass])},null,2),a("div",Pe,[a("div",Ne,r(t.currentData.weather),1),a("div",Le,r(t.currentData.temp)+"Â°F",1),a("div",Se,[s[0]||(s[0]=A(" ðŸŒ™ Moon Phase: ",-1)),a("span",Ie,r(t.currentData.moon),1)]),a("span",null,r(t.currentData.effect),1)])])):t.loading?(n(),o("div",Fe,"Loading weatherâ€¦")):D("",!0)])}const Te=L(Ae,[["render",Ke],["__scopeId","data-v-dbcf9ab1"]]),Ve=W({name:"TheIslandHome",components:{islandStats:fe,logs:Ce,weather:Te,navbar:$},mounted(){document.body.style.background="linear-gradient(90deg,rgba(0, 0, 0, 1) 0%, rgba(75, 0, 102, 1) 100%)"}}),Je={class:"main-container"};function Me(l,s,d,t,b,h){const e=P("navbar"),y=P("weather"),i=P("islandStats"),_=P("logs");return n(),o("div",null,[O(e),a("div",Je,[O(y),O(i),O(_)])])}const Re=L(Ve,[["render",Me],["__scopeId","data-v-0257312d"]]);export{Re as default};
