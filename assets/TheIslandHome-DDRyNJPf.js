import{_ as L,c as n,o as l,a as e,b as w,t as i,w as T,v as V,F as H,r as x,d as $,e as f,f as F,g as m,n as A,h as C,i as M,j as O,k as j}from"./index-DUHZzqeQ.js";import{n as W}from"./TheIslandNavbar-BC3FVSml.js";const E={name:"PlayerDayStats",setup(){const r=f(1),s=f("Timeline"),c=f({players:{},days:{}}),a=f(null),_=f([]),h=f(!1);F(async()=>{const d=await fetch("/data/season1Players.json");c.value=await d.json()});const t=m(()=>Object.keys(c.value.days).length),o=m(()=>{const d=c.value.players,p=c.value.days[r.value]||{};if(s.value==="Timeline")return Object.keys(p).map(y=>{const k=d[y]||{},v=p[y],u=v.status??"Alive";return{id:y,name:k.name??y,avatar:k.avatar??"",status:u,role:v.role??"N/A",health:v.health??"N/A",food:v.food??"N/A",voteCount:v.votes?.length??0,deathInfo:u==="Dead"?`â˜  Died on Day ${r.value}`:u==="Kicked Off"?`ðŸ‘¢ Kicked Off on Day ${r.value}`:null}});let b=Object.keys(d).map(y=>{const k=d[y],v=p[y]||{},u=v.status??"Alive";return{id:y,name:k.name,avatar:k.avatar,status:u,role:v.role??"N/A",health:v.health??"N/A",food:v.food??"N/A",voteCount:v.votes?.length??0,deathInfo:u==="Dead"?"â˜  Died":u==="Kicked Off"?"ðŸ‘¢ Kicked Off":null}});return s.value!=="All"&&(b=b.filter(y=>y.status===s.value)),b});function g(d){const p=c.value.players,b=c.value.days;a.value=p[d];const y=[];Object.keys(b).forEach(k=>{const u=b[k][d];if(u){const K=u.status??"Alive";y.push({day:k,role:u.role,health:u.health,food:u.food,votes:u.votes?.length??0,status:K})}}),_.value=y,h.value=!0}function D(){h.value=!1}function S(){r.value<t.value&&r.value++}function I(){r.value>1&&r.value--}function N(d){return{alive:d==="Alive",dead:d==="Dead",kicked:d==="Kicked Off"}}const P=m(()=>{const d=c.value.days[r.value]||{};return Object.keys(d).length});return{currentDay:r,filterStatus:s,data:c,maxDay:t,playersForDay:o,nextDay:S,prevDay:I,getCardClass:N,selectedPlayer:a,selectedPlayerHistory:_,showHistory:h,viewHistory:g,closeHistory:D,playersCountForDay:P}}},R={class:"container"},B={class:"day-nav"},z=["disabled"],U=["disabled"],X={class:"player-count"},q={class:"filters"},G={class:"cards"},J=["onClick"],Q=["src"],Y={class:"name"},Z={class:"status-label"},tt={class:"role"},et={class:"stat"},st={class:"stat"},at={class:"stat"},ot={key:1,class:"death-info"},nt={class:"history-box"},lt={class:"status-tag"},rt={class:"history-list"},it={key:0},ct={key:1};function dt(r,s,c,a,_,h){return l(),n("div",R,[e("div",B,[e("button",{onClick:s[0]||(s[0]=(...t)=>a.prevDay&&a.prevDay(...t)),disabled:a.currentDay===1},"Prev",8,z),e("h2",null,"Day "+i(a.currentDay),1),e("button",{onClick:s[1]||(s[1]=(...t)=>a.nextDay&&a.nextDay(...t)),disabled:a.currentDay===a.maxDay},"Next",8,U)]),e("div",X,[e("h3",null,"Players Today: "+i(a.playersCountForDay),1)]),e("div",q,[s[6]||(s[6]=e("label",null,"Select Mode: ",-1)),T(e("select",{"onUpdate:modelValue":s[2]||(s[2]=t=>a.filterStatus=t)},s[5]||(s[5]=[e("option",null,"Timeline",-1),e("option",null,"Alive",-1),e("option",null,"Dead",-1),e("option",null,"Kicked Off",-1),e("option",null,"All",-1)]),512),[[V,a.filterStatus]])]),e("div",G,[(l(!0),n(H,null,x(a.playersForDay,t=>(l(),n("div",{key:t.id,class:A(["player-card",a.getCardClass(t.status)]),onClick:o=>a.viewHistory(t.id)},[t.avatar?(l(),n("img",{key:0,src:t.avatar,class:"avatar"},null,8,Q)):w("",!0),e("h3",Y,i(t.name),1),e("p",Z,i(t.status),1),e("p",tt,[s[7]||(s[7]=C("Role: ",-1)),e("span",null,i(t.role),1)]),e("p",et,"â¤ï¸ Health: "+i(t.health),1),e("p",st,"ðŸ— Food: "+i(t.food),1),e("p",at,"ðŸ—³ï¸ Votes: "+i(t.voteCount),1),t.deathInfo?(l(),n("p",ot,i(t.deathInfo),1)):w("",!0)],10,J))),128))]),a.showHistory?(l(),n("div",{key:0,class:"history-overlay",onClick:s[4]||(s[4]=$((...t)=>a.closeHistory&&a.closeHistory(...t),["self"]))},[e("div",nt,[e("button",{class:"close-btn",onClick:s[3]||(s[3]=(...t)=>a.closeHistory&&a.closeHistory(...t))},"X"),e("h2",null,i(a.selectedPlayer.name)+" â€” History",1),e("p",lt,i(a.selectedPlayer.status),1),e("div",rt,[(l(!0),n(H,null,x(a.selectedPlayerHistory,t=>(l(),n("div",{key:t.day,class:"history-entry"},[e("h3",null,"Day "+i(t.day),1),e("p",null,[s[8]||(s[8]=e("strong",null,"Role:",-1)),C(" "+i(t.role),1)]),e("p",null,[s[9]||(s[9]=e("strong",null,"Health:",-1)),C(" "+i(t.health),1)]),e("p",null,[s[10]||(s[10]=e("strong",null,"Food:",-1)),C(" "+i(t.food),1)]),e("p",null,[s[11]||(s[11]=e("strong",null,"Votes:",-1)),C(" "+i(t.votes),1)]),t.status==="Dead"?(l(),n("p",it,"â˜  Died on Day "+i(t.day),1)):w("",!0),t.status==="Kicked Off"?(l(),n("p",ct,"ðŸ‘¢ Kicked Off on Day "+i(t.day),1)):w("",!0)]))),128))])])])):w("",!0)])}const ut=L(E,[["render",dt],["__scopeId","data-v-3f0a02f4"]]),yt={name:"IslandDailyLogs",setup(){const r=f({}),s=f(""),c=f(!0);F(async()=>{try{const t=await fetch("/data/season1logs.json");if(!t.ok)throw new Error("Failed to load daily logs");r.value=await t.json();const o=Object.keys(r.value);o.length>0&&(s.value=o[0])}catch(t){console.error("Error:",t)}finally{c.value=!1}});const _=m(()=>Object.keys(r.value)),h=m(()=>r.value[s.value]||[]);return{logsRaw:r,selectedDay:s,dayList:_,currentLogs:h,loading:c}}},vt={class:"log-container"},ft={class:"day-selector"},ht=["onClick"],_t={key:0,class:"logs-box"},gt={key:0,class:"no-logs"},kt={key:1},mt={key:1,class:"loading"};function Dt(r,s,c,a,_,h){return l(),n("div",vt,[s[0]||(s[0]=e("h2",{class:"title"},"ðŸ“œ Island Activity Logs",-1)),e("div",ft,[(l(!0),n(H,null,x(a.dayList,t=>(l(),n("button",{key:t,class:A(["day-btn",{active:a.selectedDay===t}]),onClick:o=>a.selectedDay=t},i(t),11,ht))),128))]),a.loading?(l(),n("div",mt,"Loading logs...")):(l(),n("div",_t,[a.currentLogs.length===0?(l(),n("div",gt," No actions recorded for this day. ")):(l(),n("ul",kt,[(l(!0),n(H,null,x(a.currentLogs,(t,o)=>(l(),n("li",{key:o,class:"log-entry"},i(t),1))),128))]))]))])}const bt=L(yt,[["render",Dt],["__scopeId","data-v-624eca5e"]]),wt={name:"ShowWeather",setup(){const r=f({}),s=f(""),c=f(!0);F(async()=>{try{const o=await fetch("/data/season1Weather.json");if(!o.ok)throw new Error("Failed to load weather data");r.value=await o.json();const g=Object.keys(r.value);g.length>0&&(s.value=g[0])}catch(o){console.error(o)}finally{c.value=!1}});const _=m(()=>Object.keys(r.value));function h(o){return o>=100?"Heat Wave":o>=80?"Hot":o>=70?"Clear":o>=60?"Rainy":o>=40?"Cold":"Freezing"}const t=m(()=>{const o=r.value[s.value];if(!o)return null;const g=o.temperature,D=o.weather||h(g),S=o.moon||"Unknown";return{temp:g,weather:D,moon:S,visualClass:D.replace(" ","-")}});return{selectedDay:s,dayList:_,currentData:t,loading:c}}},Ct={class:"weather-container"},pt={class:"day-selector"},Ht=["onClick"],xt={key:0,class:"info-box"},Ot={class:"weather-details"},jt={class:"weather-title"},At={class:"temp"},Lt={class:"moon-text"},St={class:"moon-value"},Ft={key:1,class:"loading"};function It(r,s,c,a,_,h){return l(),n("div",Ct,[s[1]||(s[1]=e("h2",{class:"title"},"Island Weather & Moon Phase",-1)),e("div",pt,[(l(!0),n(H,null,x(a.dayList,t=>(l(),n("button",{key:t,class:A(["day-btn",{active:a.selectedDay===t}]),onClick:o=>a.selectedDay=t},i(t),11,Ht))),128))]),!a.loading&&a.currentData?(l(),n("div",xt,[e("div",{class:A(["weather-visual",a.currentData.visualClass])},null,2),e("div",Ot,[e("div",jt,i(a.currentData.weather),1),e("div",At,i(a.currentData.temp)+"Â°F",1),e("div",Lt,[s[0]||(s[0]=C(" ðŸŒ™ Moon Phase: ",-1)),e("span",St,i(a.currentData.moon),1)])])])):a.loading?(l(),n("div",Ft,"Loading weatherâ€¦")):w("",!0)])}const Nt=L(wt,[["render",It],["__scopeId","data-v-0233f0ea"]]),Pt=M({name:"TheIslandHome",components:{islandStats:ut,logs:bt,weather:Nt,navbar:W},mounted(){document.body.style.background="linear-gradient(90deg,rgba(217, 137, 9, 1) 0%, rgba(73, 0, 133, 1) 100%)"}}),Kt={class:"main-container"};function Tt(r,s,c,a,_,h){const t=j("navbar"),o=j("weather"),g=j("islandStats"),D=j("logs");return l(),n("div",null,[O(t),e("div",Kt,[O(o),O(g),O(D)])])}const Mt=L(Pt,[["render",Tt],["__scopeId","data-v-1bd45adf"]]);export{Mt as default};
