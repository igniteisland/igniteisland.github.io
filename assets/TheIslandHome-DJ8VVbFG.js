import{r as D,_ as L,c as o,o as n,a,b as m,t as r,w as T,v as V,F as H,d as x,e as J,f as F,g as k,n as N,h as A,i as M,j as O,k as P}from"./index-CWqEqqBa.js";import{n as $}from"./TheIslandNavbar-BnC6_x8X.js";const g=D(9),R={name:"PlayerDayStats",setup(){const l=g,s=D("Timeline"),d=D({players:{},days:{}}),t=D(null),b=D([]),h=D(!1);F(async()=>{const v=await fetch("/data/season1Players.json");d.value=await v.json()});const e=k(()=>Object.keys(d.value.days).length),y=k(()=>{const v=d.value.players,j=d.value.days[l.value]||{};if(s.value==="Timeline")return Object.keys(j).map(f=>{const w=v[f]||{},c=j[f],u=c.status??"Alive";return{id:f,name:w.name??f,avatar:w.avatar??"",status:u,role:c.role??"N/A",health:c.health??"N/A",food:c.food??"N/A",voteCount:c.votes?.length??0,isJailed:c.jailed===1,hasPendant:c.pendant===1,hasArmor:c.armor===1,isWinner:c.winner===1,deathInfo:u==="Dead"?`â˜  Died on Day ${l.value}`:u==="Kicked Off"?`ðŸ‘¢ Kicked Off on Day ${l.value}`:null}});let C=Object.keys(v).map(f=>{const w=v[f],c=j[f]||{},u=c.status??"Alive";return{id:f,name:w.name,avatar:w.avatar,status:u,role:c.role??"N/A",health:c.health??"N/A",food:c.food??"N/A",voteCount:c.votes?.length??0,isJailed:c.jailed===1,hasPendant:c.pendant===1,hasArmor:c.armor===1,isWinner:c.winner===1,deathInfo:u==="Dead"?"â˜  Died":u==="Kicked Off"?"ðŸ‘¢ Kicked Off":null}});return s.value!=="All"&&(C=C.filter(f=>f.status===s.value)),C});function i(v){const j=d.value.players,C=d.value.days;t.value=j[v];const f=[];Object.keys(C).forEach(w=>{const u=C[w][v];if(u){const K=u.status??"Alive";f.push({day:w,role:u.role,health:u.health,food:u.food,votes:u.votes?.length??0,status:K,isJailed:u.jailed===1,hasPendant:u.pendant===1,hasArmor:u.armor===1,isWinner:u.winner===1})}}),b.value=f,h.value=!0}function _(){h.value=!1}function p(){l.value<e.value&&l.value++}function S(){l.value>1&&l.value--}function I(v){return{alive:v==="Alive",dead:v==="Dead",kicked:v==="Kicked Off"}}const W=k(()=>{const v=d.value.days[l.value]||{};return Object.keys(v).length});return{currentDay:l,filterStatus:s,data:d,maxDay:e,playersForDay:y,nextDay:p,prevDay:S,getCardClass:I,selectedPlayer:t,selectedPlayerHistory:b,showHistory:h,viewHistory:i,closeHistory:_,playersCountForDay:W}}},B={class:"container"},E={class:"day-nav"},z=["disabled"],U=["disabled"],X={class:"player-count"},q={class:"filters"},G={class:"cards"},Q=["onClick"],Y={key:0,class:"winner-crown"},Z=["src"],ee={class:"name"},te={class:"role"},ae={class:"stat"},se={class:"stat"},oe={class:"stat"},ne={key:2,class:"death-info"},le={class:"history-box"},re={class:"status-tag"},ie={class:"history-list"},ce={key:0},de={key:1},ue={key:2},ye={key:3},ve={key:4};function fe(l,s,d,t,b,h){return n(),o("div",B,[a("div",E,[a("button",{onClick:s[0]||(s[0]=(...e)=>t.prevDay&&t.prevDay(...e)),disabled:t.currentDay===1},"Prev",8,z),a("h2",null,"Day "+r(t.currentDay),1),a("button",{onClick:s[1]||(s[1]=(...e)=>t.nextDay&&t.nextDay(...e)),disabled:t.currentDay===t.maxDay},"Next",8,U)]),a("div",X,[a("h3",null,"Players Today: "+r(t.playersCountForDay),1)]),a("div",q,[s[6]||(s[6]=a("label",null,"Select Mode: ",-1)),T(a("select",{"onUpdate:modelValue":s[2]||(s[2]=e=>t.filterStatus=e)},s[5]||(s[5]=[a("option",null,"Timeline",-1),a("option",null,"Alive",-1),a("option",null,"Dead",-1),a("option",null,"Kicked Off",-1),a("option",null,"All",-1)]),512),[[V,t.filterStatus]])]),a("div",G,[(n(!0),o(H,null,x(t.playersForDay,e=>(n(),o("div",{key:e.id,class:N(["player-card",t.getCardClass(e.status),{jailed:e.isJailed},{pendant:e.hasPendant},{armor:e.hasArmor},{winner:e.isWinner}]),onClick:y=>t.viewHistory(e.id)},[e.isWinner?(n(),o("div",Y,"ðŸ‘‘")):m("",!0),e.avatar?(n(),o("img",{key:1,src:e.avatar,class:"avatar"},null,8,Z)):m("",!0),a("h3",ee,r(e.name),1),a("p",te,[s[7]||(s[7]=A("Role: ",-1)),a("span",null,r(e.role),1)]),a("p",ae,"â¤ï¸ Health: "+r(e.health),1),a("p",se,"ðŸ— Food: "+r(e.food),1),a("p",oe,"ðŸ—³ï¸ Votes: "+r(e.voteCount),1),e.deathInfo?(n(),o("p",ne,r(e.deathInfo),1)):m("",!0)],10,Q))),128))]),t.showHistory?(n(),o("div",{key:0,class:"history-overlay",onClick:s[4]||(s[4]=J((...e)=>t.closeHistory&&t.closeHistory(...e),["self"]))},[a("div",le,[a("button",{class:"close-btn",onClick:s[3]||(s[3]=(...e)=>t.closeHistory&&t.closeHistory(...e))},"X"),a("h2",null,r(t.selectedPlayer.name)+" â€” History",1),a("p",re,r(t.selectedPlayer.status),1),a("div",ie,[(n(!0),o(H,null,x(t.selectedPlayerHistory,e=>(n(),o("div",{key:e.day,class:"history-entry"},[a("h3",null,"Day "+r(e.day),1),a("p",null,[s[8]||(s[8]=a("strong",null,"Role:",-1)),A(" "+r(e.role),1)]),a("p",null,[s[9]||(s[9]=a("strong",null,"Health:",-1)),A(" "+r(e.health),1)]),a("p",null,[s[10]||(s[10]=a("strong",null,"Food:",-1)),A(" "+r(e.food),1)]),a("p",null,[s[11]||(s[11]=a("strong",null,"Votes:",-1)),A(" "+r(e.votes),1)]),e.status==="Dead"?(n(),o("p",ce,"â˜  Died on Day "+r(e.day),1)):m("",!0),e.status==="Kicked Off"?(n(),o("p",de,"ðŸ‘¢ Kicked Off on Day "+r(e.day),1)):m("",!0),e.isJailed?(n(),o("p",ue,"ðŸ”’ Jailed")):m("",!0),e.hasPendant?(n(),o("p",ye," âœ Pendant")):m("",!0),e.hasArmor?(n(),o("p",ve," ðŸ›¡ï¸ Armor")):m("",!0)]))),128))])])])):m("",!0)])}const he=L(R,[["render",fe],["__scopeId","data-v-f785e50f"]]),_e={name:"IslandDailyLogs",setup(){const l=D({}),s=k(()=>"Day "+g.value),d=D(!0);function t(y){g.value=Number(y.replace("Day ",""))}F(async()=>{try{const y=await fetch("/data/season1logs.json");if(l.value=await y.json(),l.value["Day 9"])g.value=9;else{const _=Object.keys(l.value);_.length>0&&(g.value=Number(_[0].replace("Day ","")))}}catch(y){console.error(y)}finally{d.value=!1}});const h=k(()=>Object.keys(l.value)),e=k(()=>l.value[s.value]||[]);return{logsRaw:l,selectedDay:s,dayList:h,currentLogs:e,loading:d,setDay:t}}},me={class:"log-container"},De={class:"day-selector"},ge=["onClick"],ke={key:0,class:"logs-box"},be={key:0,class:"no-logs"},we={key:1},pe={key:1,class:"loading"};function Ce(l,s,d,t,b,h){return n(),o("div",me,[s[0]||(s[0]=a("h2",{class:"title"},"ðŸ“œ Island Activity Logs",-1)),a("div",De,[(n(!0),o(H,null,x(t.dayList,e=>(n(),o("button",{key:e,class:N(["day-btn",{active:t.selectedDay===e}]),onClick:y=>t.setDay(e)},r(e),11,ge))),128))]),t.loading?(n(),o("div",pe,"Loading logs...")):(n(),o("div",ke,[t.currentLogs.length===0?(n(),o("div",be," No actions recorded for this day. ")):(n(),o("ul",we,[(n(!0),o(H,null,x(t.currentLogs,(e,y)=>(n(),o("li",{key:y,class:"log-entry"},r(e),1))),128))]))]))])}const Ae=L(_e,[["render",Ce],["__scopeId","data-v-cb5b5781"]]),je={name:"ShowWeather",setup(){const l=D({}),s=k(()=>"Day "+g.value),d=D(!0);function t(i){g.value=Number(i.replace("Day ",""))}F(async()=>{try{const i=await fetch("/data/season1Weather.json");if(!i.ok)throw new Error("Failed to load weather data");if(l.value=await i.json(),l.value["Day 9"])g.value=9;else{const p=Object.keys(l.value);day.length>0&&(g.value=Number(p[0].replace("Day ","")))}}catch(i){console.error(i)}finally{d.value=!1}});const h=k(()=>Object.keys(l.value));function e(i){return i>=100?"Heat Wave":i>=80?"Hot":i>=70?"Clear":i>=60?"Rainy":i>=40?"Cold":"Freezing"}const y=k(()=>{const i=l.value[s.value];if(!i)return null;const _=i.temperature,p=i.weather||e(_),S=i.moon||"Unknown",I=i.effects;return{temp:_,weather:p,moon:S,effect:I,visualClass:p.replace(" ","-")}});return{selectedDay:s,dayList:h,currentData:y,loading:d,setDay:t}}},He={class:"weather-container"},xe={class:"day-selector"},Oe=["onClick"],Pe={key:0,class:"info-box"},Ne={class:"weather-details"},Le={class:"weather-title"},Se={class:"temp"},Ie={class:"moon-text"},Fe={class:"moon-value"},We={key:1,class:"loading"};function Ke(l,s,d,t,b,h){return n(),o("div",He,[s[1]||(s[1]=a("h2",{class:"title"},"Island Weather, Moon, and Affects",-1)),a("div",xe,[(n(!0),o(H,null,x(t.dayList,e=>(n(),o("button",{key:e,class:N(["day-btn",{active:t.selectedDay===e}]),onClick:y=>t.setDay(e)},r(e),11,Oe))),128))]),!t.loading&&t.currentData?(n(),o("div",Pe,[a("div",{class:N(["weather-visual",t.currentData.visualClass])},null,2),a("div",Ne,[a("div",Le,r(t.currentData.weather),1),a("div",Se,r(t.currentData.temp)+"Â°F",1),a("div",Ie,[s[0]||(s[0]=A(" ðŸŒ™ Moon Phase: ",-1)),a("span",Fe,r(t.currentData.moon),1)]),a("span",null,r(t.currentData.effect),1)])])):t.loading?(n(),o("div",We,"Loading weatherâ€¦")):m("",!0)])}const Te=L(je,[["render",Ke],["__scopeId","data-v-09feeae0"]]),Ve=M({name:"TheIslandHome",components:{islandStats:he,logs:Ae,weather:Te,navbar:$},mounted(){document.body.style.background="linear-gradient(90deg,rgba(0, 0, 0, 1) 0%, rgba(75, 0, 102, 1) 100%)"}}),Je={class:"main-container"};function Me(l,s,d,t,b,h){const e=P("navbar"),y=P("weather"),i=P("islandStats"),_=P("logs");return n(),o("div",null,[O(e),a("div",Je,[O(y),O(i),O(_)])])}const Be=L(Ve,[["render",Me],["__scopeId","data-v-0257312d"]]);export{Be as default};
