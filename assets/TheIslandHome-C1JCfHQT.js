import{_ as S,c as n,o as l,a,b as w,t as i,w as K,v as $,F as H,r as x,d as V,e as y,f as N,g as p,n as L,h as C,i as M,j as O,k as j}from"./index-CXMsWDsb.js";import{n as T}from"./TheIslandNavbar-C0ydPsZm.js";const W={name:"PlayerDayStats",setup(){const r=y(1),e=y("Timeline"),c=y({players:{},days:{}}),s=y(null),_=y([]),f=y(!1);N(async()=>{const u=await fetch("/data/season1Players.json");c.value=await u.json()});const t=p(()=>Object.keys(c.value.days).length),o=p(()=>{const u=c.value.players,D=c.value.days[r.value]||{};if(e.value==="Timeline")return Object.keys(D).map(v=>{const g=u[v]||{},d=D[v],h=d.status??g.status??"Alive";return{id:v,name:g.name??v,avatar:g.avatar??"",status:h,role:d.role??"N/A",health:d.health??"N/A",food:d.food??"N/A",voteCount:d.votes?.length??0,deathInfo:d.status==="Dead"?`â˜  Died on Day ${r.value}`:d.status==="Kicked Off"?`ðŸ‘¢ Kicked Off on Day ${r.value}`:null}});let b=Object.keys(u).map(v=>{const g=u[v],d=D[v]||{},h=d.status??g.status;return{id:v,name:g.name,avatar:g.avatar,status:h,role:d.role??"N/A",health:d.health??"N/A",food:d.food??"N/A",voteCount:d.votes?.length??0,deathInfo:h==="Dead"?"â˜  Died":h==="Kicked Off"?"ðŸ‘¢ Kicked Off":null}});return e.value!=="All"&&(b=b.filter(v=>v.status===e.value)),b});function k(u){const D=c.value.players,b=c.value.days;s.value=D[u];const v=[];Object.keys(b).forEach(g=>{const d=b[g];if(d[u]){const h=d[u],P=h.status??D[u].status;v.push({day:g,role:h.role,health:h.health,food:h.food,votes:h.votes?.length??0,status:P})}}),_.value=v,f.value=!0}function m(){f.value=!1}function A(){r.value<t.value&&r.value++}function F(){r.value>1&&r.value--}function I(u){return{alive:u==="Alive",dead:u==="Dead",kicked:u==="Kicked Off"}}return{currentDay:r,filterStatus:e,data:c,maxDay:t,playersForDay:o,nextDay:A,prevDay:F,getCardClass:I,selectedPlayer:s,selectedPlayerHistory:_,showHistory:f,viewHistory:k,closeHistory:m}}},E={class:"container"},R={class:"day-nav"},B=["disabled"],z=["disabled"],U={class:"filters"},X={class:"cards"},q=["onClick"],G=["src"],J={class:"name"},Q={class:"status-label"},Y={class:"role"},Z={class:"stat"},tt={class:"stat"},et={class:"stat"},st={key:1,class:"death-info"},at={class:"history-box"},ot={class:"status-tag"},nt={class:"history-list"},lt={key:0},rt={key:1};function it(r,e,c,s,_,f){return l(),n("div",E,[a("div",R,[a("button",{onClick:e[0]||(e[0]=(...t)=>s.prevDay&&s.prevDay(...t)),disabled:s.currentDay===1},"Prev",8,B),a("h2",null,"Day "+i(s.currentDay),1),a("button",{onClick:e[1]||(e[1]=(...t)=>s.nextDay&&s.nextDay(...t)),disabled:s.currentDay===s.maxDay},"Next",8,z)]),a("div",U,[e[6]||(e[6]=a("label",null,"Select Mode: ",-1)),K(a("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>s.filterStatus=t)},e[5]||(e[5]=[a("option",null,"Timeline",-1),a("option",null,"Alive",-1),a("option",null,"Dead",-1),a("option",null,"Kicked Off",-1),a("option",null,"All",-1)]),512),[[$,s.filterStatus]])]),a("div",X,[(l(!0),n(H,null,x(s.playersForDay,t=>(l(),n("div",{key:t.id,class:L(["player-card",s.getCardClass(t.status)]),onClick:o=>s.viewHistory(t.id)},[t.avatar?(l(),n("img",{key:0,src:t.avatar,class:"avatar"},null,8,G)):w("",!0),a("h3",J,i(t.name),1),a("p",Q,i(t.status),1),a("p",Y,[e[7]||(e[7]=C("Role: ",-1)),a("span",null,i(t.role),1)]),a("p",Z,"â¤ï¸ Health: "+i(t.health),1),a("p",tt,"ðŸ— Food: "+i(t.food),1),a("p",et,"ðŸ—³ï¸ Votes: "+i(t.voteCount),1),t.deathInfo?(l(),n("p",st,i(t.deathInfo),1)):w("",!0)],10,q))),128))]),s.showHistory?(l(),n("div",{key:0,class:"history-overlay",onClick:e[4]||(e[4]=V((...t)=>s.closeHistory&&s.closeHistory(...t),["self"]))},[a("div",at,[a("button",{class:"close-btn",onClick:e[3]||(e[3]=(...t)=>s.closeHistory&&s.closeHistory(...t))},"X"),a("h2",null,i(s.selectedPlayer.name)+" â€” History",1),a("p",ot,i(s.selectedPlayer.status),1),a("div",nt,[(l(!0),n(H,null,x(s.selectedPlayerHistory,t=>(l(),n("div",{key:t.day,class:"history-entry"},[a("h3",null,"Day "+i(t.day),1),a("p",null,[e[8]||(e[8]=a("strong",null,"Role:",-1)),C(" "+i(t.role),1)]),a("p",null,[e[9]||(e[9]=a("strong",null,"Health:",-1)),C(" "+i(t.health),1)]),a("p",null,[e[10]||(e[10]=a("strong",null,"Food:",-1)),C(" "+i(t.food),1)]),a("p",null,[e[11]||(e[11]=a("strong",null,"Votes:",-1)),C(" "+i(t.votes),1)]),t.status==="Dead"?(l(),n("p",lt,"â˜  Died on Day "+i(t.day),1)):w("",!0),t.status==="Kicked Off"?(l(),n("p",rt,"ðŸ‘¢ Kicked Off on Day "+i(t.day),1)):w("",!0)]))),128))])])])):w("",!0)])}const ct=S(W,[["render",it],["__scopeId","data-v-2ad1ede1"]]),dt={name:"IslandDailyLogs",setup(){const r=y({}),e=y(""),c=y(!0);N(async()=>{try{const t=await fetch("/data/season1logs.json");if(!t.ok)throw new Error("Failed to load daily logs");r.value=await t.json();const o=Object.keys(r.value);o.length>0&&(e.value=o[0])}catch(t){console.error("Error:",t)}finally{c.value=!1}});const _=p(()=>Object.keys(r.value)),f=p(()=>r.value[e.value]||[]);return{logsRaw:r,selectedDay:e,dayList:_,currentLogs:f,loading:c}}},ut={class:"log-container"},vt={class:"day-selector"},yt=["onClick"],ft={key:0,class:"logs-box"},ht={key:0,class:"no-logs"},_t={key:1},gt={key:1,class:"loading"};function kt(r,e,c,s,_,f){return l(),n("div",ut,[e[0]||(e[0]=a("h2",{class:"title"},"ðŸ“œ Island Activity Logs",-1)),a("div",vt,[(l(!0),n(H,null,x(s.dayList,t=>(l(),n("button",{key:t,class:L(["day-btn",{active:s.selectedDay===t}]),onClick:o=>s.selectedDay=t},i(t),11,yt))),128))]),s.loading?(l(),n("div",gt,"Loading logs...")):(l(),n("div",ft,[s.currentLogs.length===0?(l(),n("div",ht," No actions recorded for this day. ")):(l(),n("ul",_t,[(l(!0),n(H,null,x(s.currentLogs,(t,o)=>(l(),n("li",{key:o,class:"log-entry"},i(t),1))),128))]))]))])}const mt=S(dt,[["render",kt],["__scopeId","data-v-624eca5e"]]),Dt={name:"ShowWeather",setup(){const r=y({}),e=y(""),c=y(!0);N(async()=>{try{const o=await fetch("/data/season1Weather.json");if(!o.ok)throw new Error("Failed to load weather data");r.value=await o.json();const k=Object.keys(r.value);k.length>0&&(e.value=k[0])}catch(o){console.error(o)}finally{c.value=!1}});const _=p(()=>Object.keys(r.value));function f(o){return o>=100?"Heat Wave":o>=80?"Hot":o>=70?"Clear":o>=60?"Rainy":o>=40?"Cold":"Freezing"}const t=p(()=>{const o=r.value[e.value];if(!o)return null;const k=o.temperature,m=o.weather||f(k),A=o.moon||"Unknown";return{temp:k,weather:m,moon:A,visualClass:m.replace(" ","-")}});return{selectedDay:e,dayList:_,currentData:t,loading:c}}},bt={class:"weather-container"},wt={class:"day-selector"},Ct=["onClick"],pt={key:0,class:"info-box"},Ht={class:"weather-details"},xt={class:"weather-title"},Ot={class:"temp"},jt={class:"moon-text"},Lt={class:"moon-value"},St={key:1,class:"loading"};function At(r,e,c,s,_,f){return l(),n("div",bt,[e[1]||(e[1]=a("h2",{class:"title"},"Island Weather & Moon Phase",-1)),a("div",wt,[(l(!0),n(H,null,x(s.dayList,t=>(l(),n("button",{key:t,class:L(["day-btn",{active:s.selectedDay===t}]),onClick:o=>s.selectedDay=t},i(t),11,Ct))),128))]),!s.loading&&s.currentData?(l(),n("div",pt,[a("div",{class:L(["weather-visual",s.currentData.visualClass])},null,2),a("div",Ht,[a("div",xt,i(s.currentData.weather),1),a("div",Ot,i(s.currentData.temp)+"Â°F",1),a("div",jt,[e[0]||(e[0]=C(" ðŸŒ™ Moon Phase: ",-1)),a("span",Lt,i(s.currentData.moon),1)])])])):s.loading?(l(),n("div",St,"Loading weatherâ€¦")):w("",!0)])}const Nt=S(Dt,[["render",At],["__scopeId","data-v-0233f0ea"]]),Ft=M({name:"TheIslandHome",components:{islandStats:ct,logs:mt,weather:Nt,navbar:T},mounted(){document.body.style.background="linear-gradient(90deg,rgba(217, 137, 9, 1) 0%, rgba(73, 0, 133, 1) 100%)"}}),It={class:"main-container"};function Pt(r,e,c,s,_,f){const t=j("navbar"),o=j("weather"),k=j("islandStats"),m=j("logs");return l(),n("div",null,[O(t),a("div",It,[O(o),O(k),O(m)])])}const Vt=S(Ft,[["render",Pt],["__scopeId","data-v-1bd45adf"]]);export{Vt as default};
