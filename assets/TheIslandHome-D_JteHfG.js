import{_ as L,c as l,o as r,a,b as w,t as i,w as T,v as V,F as H,r as x,d as M,e as h,f as I,g as m,n as A,h as C,i as W,j as O,k as j}from"./index-CSsgBxye.js";import{n as $}from"./TheIslandNavbar-DZnusX0Z.js";const E={name:"PlayerDayStats",setup(){const n=h(4),t=h("Timeline"),c=h({players:{},days:{}}),s=h(null),g=h([]),_=h(!1);I(async()=>{const d=await fetch("/data/season1Players.json");c.value=await d.json()});const e=m(()=>Object.keys(c.value.days).length),o=m(()=>{const d=c.value.players,p=c.value.days[n.value]||{};if(t.value==="Timeline")return Object.keys(p).map(y=>{const k=d[y]||{},f=p[y],u=f.status??"Alive";return{id:y,name:k.name??y,avatar:k.avatar??"",status:u,role:f.role??"N/A",health:f.health??"N/A",food:f.food??"N/A",voteCount:f.votes?.length??0,deathInfo:u==="Dead"?`â˜  Died on Day ${n.value}`:u==="Kicked Off"?`ðŸ‘¢ Kicked Off on Day ${n.value}`:null}});let b=Object.keys(d).map(y=>{const k=d[y],f=p[y]||{},u=f.status??"Alive";return{id:y,name:k.name,avatar:k.avatar,status:u,role:f.role??"N/A",health:f.health??"N/A",food:f.food??"N/A",voteCount:f.votes?.length??0,deathInfo:u==="Dead"?"â˜  Died":u==="Kicked Off"?"ðŸ‘¢ Kicked Off":null}});return t.value!=="All"&&(b=b.filter(y=>y.status===t.value)),b});function v(d){const p=c.value.players,b=c.value.days;s.value=p[d];const y=[];Object.keys(b).forEach(k=>{const u=b[k][d];if(u){const K=u.status??"Alive";y.push({day:k,role:u.role,health:u.health,food:u.food,votes:u.votes?.length??0,status:K})}}),g.value=y,_.value=!0}function D(){_.value=!1}function S(){n.value<e.value&&n.value++}function F(){n.value>1&&n.value--}function N(d){return{alive:d==="Alive",dead:d==="Dead",kicked:d==="Kicked Off"}}const P=m(()=>{const d=c.value.days[n.value]||{};return Object.keys(d).length});return{currentDay:n,filterStatus:t,data:c,maxDay:e,playersForDay:o,nextDay:S,prevDay:F,getCardClass:N,selectedPlayer:s,selectedPlayerHistory:g,showHistory:_,viewHistory:v,closeHistory:D,playersCountForDay:P}}},R={class:"container"},B={class:"day-nav"},z=["disabled"],U=["disabled"],X={class:"player-count"},q={class:"filters"},G={class:"cards"},J=["onClick"],Q=["src"],Y={class:"name"},Z={class:"role"},ee={class:"stat"},te={class:"stat"},se={class:"stat"},ae={key:1,class:"death-info"},oe={class:"history-box"},ne={class:"status-tag"},le={class:"history-list"},re={key:0},ie={key:1};function ce(n,t,c,s,g,_){return r(),l("div",R,[a("div",B,[a("button",{onClick:t[0]||(t[0]=(...e)=>s.prevDay&&s.prevDay(...e)),disabled:s.currentDay===1},"Prev",8,z),a("h2",null,"Day "+i(s.currentDay),1),a("button",{onClick:t[1]||(t[1]=(...e)=>s.nextDay&&s.nextDay(...e)),disabled:s.currentDay===s.maxDay},"Next",8,U)]),a("div",X,[a("h3",null,"Players Today: "+i(s.playersCountForDay),1)]),a("div",q,[t[6]||(t[6]=a("label",null,"Select Mode: ",-1)),T(a("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>s.filterStatus=e)},t[5]||(t[5]=[a("option",null,"Timeline",-1),a("option",null,"Alive",-1),a("option",null,"Dead",-1),a("option",null,"Kicked Off",-1),a("option",null,"All",-1)]),512),[[V,s.filterStatus]])]),a("div",G,[(r(!0),l(H,null,x(s.playersForDay,e=>(r(),l("div",{key:e.id,class:A(["player-card",s.getCardClass(e.status)]),onClick:o=>s.viewHistory(e.id)},[e.avatar?(r(),l("img",{key:0,src:e.avatar,class:"avatar"},null,8,Q)):w("",!0),a("h3",Y,i(e.name),1),a("p",Z,[t[7]||(t[7]=C("Role: ",-1)),a("span",null,i(e.role),1)]),a("p",ee,"â¤ï¸ Health: "+i(e.health),1),a("p",te,"ðŸ— Food: "+i(e.food),1),a("p",se,"ðŸ—³ï¸ Votes: "+i(e.voteCount),1),e.deathInfo?(r(),l("p",ae,i(e.deathInfo),1)):w("",!0)],10,J))),128))]),s.showHistory?(r(),l("div",{key:0,class:"history-overlay",onClick:t[4]||(t[4]=M((...e)=>s.closeHistory&&s.closeHistory(...e),["self"]))},[a("div",oe,[a("button",{class:"close-btn",onClick:t[3]||(t[3]=(...e)=>s.closeHistory&&s.closeHistory(...e))},"X"),a("h2",null,i(s.selectedPlayer.name)+" â€” History",1),a("p",ne,i(s.selectedPlayer.status),1),a("div",le,[(r(!0),l(H,null,x(s.selectedPlayerHistory,e=>(r(),l("div",{key:e.day,class:"history-entry"},[a("h3",null,"Day "+i(e.day),1),a("p",null,[t[8]||(t[8]=a("strong",null,"Role:",-1)),C(" "+i(e.role),1)]),a("p",null,[t[9]||(t[9]=a("strong",null,"Health:",-1)),C(" "+i(e.health),1)]),a("p",null,[t[10]||(t[10]=a("strong",null,"Food:",-1)),C(" "+i(e.food),1)]),a("p",null,[t[11]||(t[11]=a("strong",null,"Votes:",-1)),C(" "+i(e.votes),1)]),e.status==="Dead"?(r(),l("p",re,"â˜  Died on Day "+i(e.day),1)):w("",!0),e.status==="Kicked Off"?(r(),l("p",ie,"ðŸ‘¢ Kicked Off on Day "+i(e.day),1)):w("",!0)]))),128))])])])):w("",!0)])}const de=L(E,[["render",ce],["__scopeId","data-v-b5ecd244"]]),ue={name:"IslandDailyLogs",setup(){const n=h({}),t=h(""),c=h(!0);I(async()=>{try{const e=await fetch("/data/season1logs.json");if(!e.ok)throw new Error("Failed to load daily logs");n.value=await e.json();const o=Object.keys(n.value),v="Day 4";n.value[v]?t.value=v:day.length>0&&(t.value=o[0])}catch(e){console.error(e)}finally{c.value=!1}});const g=m(()=>Object.keys(n.value)),_=m(()=>n.value[t.value]||[]);return{logsRaw:n,selectedDay:t,dayList:g,currentLogs:_,loading:c}}},ye={class:"log-container"},ve={class:"day-selector"},fe=["onClick"],he={key:0,class:"logs-box"},_e={key:0,class:"no-logs"},ge={key:1},De={key:1,class:"loading"};function ke(n,t,c,s,g,_){return r(),l("div",ye,[t[0]||(t[0]=a("h2",{class:"title"},"ðŸ“œ Island Activity Logs",-1)),a("div",ve,[(r(!0),l(H,null,x(s.dayList,e=>(r(),l("button",{key:e,class:A(["day-btn",{active:s.selectedDay===e}]),onClick:o=>s.selectedDay=e},i(e),11,fe))),128))]),s.loading?(r(),l("div",De,"Loading logs...")):(r(),l("div",he,[s.currentLogs.length===0?(r(),l("div",_e," No actions recorded for this day. ")):(r(),l("ul",ge,[(r(!0),l(H,null,x(s.currentLogs,(e,o)=>(r(),l("li",{key:o,class:"log-entry"},i(e),1))),128))]))]))])}const me=L(ue,[["render",ke],["__scopeId","data-v-7ec1b307"]]),be={name:"ShowWeather",setup(){const n=h({}),t=h(""),c=h(!0);I(async()=>{try{const o=await fetch("/data/season1Weather.json");if(!o.ok)throw new Error("Failed to load weather data");n.value=await o.json();const v=Object.keys(n.value),D="Day 4";n.value[D]?t.value=D:v.length>0&&(t.value=v[0])}catch(o){console.error(o)}finally{c.value=!1}});const g=m(()=>Object.keys(n.value));function _(o){return o>=100?"Heat Wave":o>=80?"Hot":o>=70?"Clear":o>=60?"Rainy":o>=40?"Cold":"Freezing"}const e=m(()=>{const o=n.value[t.value];if(!o)return null;const v=o.temperature,D=o.weather||_(v),S=o.moon||"Unknown",F=o.effects;return{temp:v,weather:D,moon:S,effect:F,visualClass:D.replace(" ","-")}});return{selectedDay:t,dayList:g,currentData:e,loading:c}}},we={class:"weather-container"},Ce={class:"day-selector"},pe=["onClick"],He={key:0,class:"info-box"},xe={class:"weather-details"},Oe={class:"weather-title"},je={class:"temp"},Ae={class:"moon-text"},Le={class:"moon-value"},Se={key:1,class:"loading"};function Fe(n,t,c,s,g,_){return r(),l("div",we,[t[1]||(t[1]=a("h2",{class:"title"},"Island Weather, Moon, and Affects",-1)),a("div",Ce,[(r(!0),l(H,null,x(s.dayList,e=>(r(),l("button",{key:e,class:A(["day-btn",{active:s.selectedDay===e}]),onClick:o=>s.selectedDay=e},i(e),11,pe))),128))]),!s.loading&&s.currentData?(r(),l("div",He,[a("div",{class:A(["weather-visual",s.currentData.visualClass])},null,2),a("div",xe,[a("div",Oe,i(s.currentData.weather),1),a("div",je,i(s.currentData.temp)+"Â°F",1),a("div",Ae,[t[0]||(t[0]=C(" ðŸŒ™ Moon Phase: ",-1)),a("span",Le,i(s.currentData.moon),1)]),a("span",null,i(s.currentData.effect),1)])])):s.loading?(r(),l("div",Se,"Loading weatherâ€¦")):w("",!0)])}const Ie=L(be,[["render",Fe],["__scopeId","data-v-a860b4a4"]]),Ne=W({name:"TheIslandHome",components:{islandStats:de,logs:me,weather:Ie,navbar:$},mounted(){document.body.style.background="linear-gradient(90deg,rgba(0, 0, 0, 1) 0%, rgba(75, 0, 102, 1) 100%)"}}),Pe={class:"main-container"};function Ke(n,t,c,s,g,_){const e=j("navbar"),o=j("weather"),v=j("islandStats"),D=j("logs");return r(),l("div",null,[O(e),a("div",Pe,[O(o),O(v),O(D)])])}const Me=L(Ne,[["render",Ke],["__scopeId","data-v-282f4a40"]]);export{Me as default};
