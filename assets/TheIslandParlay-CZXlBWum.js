import{_ as N,c as r,o as l,a as s,t as _,F as w,d as D,n as P,b as L,r as m,f as O,g as j,i as E,j as C,k}from"./index-roVwimdu.js";import{n as F}from"./TheIslandNavbar-ZRO3AIkU.js";const H={name:"IslandParlayCards",setup(){const u=m({}),e=m(""),y=m(!0);O(async()=>{try{const n=await fetch("/data/season1Parlays.json");if(!n.ok)throw new Error("Failed to load parlay data");u.value=await n.json();const c=Object.keys(u.value),h=8,f=c.find(p=>Number(p.replace("Day ",""))===h);e.value=f||c[0]}catch(n){console.error(n)}finally{y.value=!1}});const i=j(()=>Object.keys(u.value)),b=()=>{const n=i.value.indexOf(e.value);n>0&&(e.value=i.value[n-1])},a=()=>{const n=i.value.indexOf(e.value);n<i.value.length-1&&(e.value=i.value[n+1])},o=j(()=>e.value?u.value[e.value]||{}:{});return{loading:y,selectedDay:e,dayList:i,prevDay:b,nextDay:a,playersForDay:o,totalCost:n=>Object.values(n).reduce((c,h)=>c+Number(h.worth||0),0),allHit:n=>{const c=Object.values(n),h=c.reduce((g,T)=>g+Number(T.worth||0),0),f=c.length===3&&c.every(g=>g.hit===1),p=h>=650;return f&&p},statusLabel:n=>n===0?"PENDING":n===1?"HIT":"MISS",earnedAmount:n=>Object.values(n).filter(c=>c.hit===1).reduce((c,h)=>c+Number(h.worth||0),0)}}},A={class:"casino-wrapper"},R={class:"casino-header"},B=["disabled"],M=["disabled"],S={class:"casino-day"},G={key:0,class:"loading"},V={key:1,class:"casino-grid"},$={class:"total-cost"},U={key:0,class:"earned-amount"},z={key:1,class:"returning"},W=["src"],Y={class:"casino-name"},q={class:"parlay-stack"},J={class:"parlay-text"},K={class:"parlay-worth"},Q={class:"parlay-status"};function X(u,e,y,t,i,b){return l(),r("div",A,[s("div",R,[s("button",{class:"nav-btn",onClick:e[0]||(e[0]=(...a)=>t.prevDay&&t.prevDay(...a)),disabled:t.selectedDay===t.dayList[0]}," â—€ ",8,B),e[2]||(e[2]=s("h2",{class:"casino-title"}," Island Parlays ",-1)),s("button",{class:"nav-btn",onClick:e[1]||(e[1]=(...a)=>t.nextDay&&t.nextDay(...a)),disabled:t.selectedDay===t.dayList[t.dayList.length-1]}," â–¶ ",8,M)]),s("div",S,_(t.selectedDay),1),t.loading?(l(),r("div",G,"Getting Parlaysâ€¦")):(l(),r("div",V,[(l(!0),r(w,null,D(t.playersForDay,(a,o)=>(l(),r("div",{key:o,class:P(["casino-player",{gold:t.allHit(a.parlayCard)}])},[s("div",$," ðŸ§¾ "+_(t.totalCost(a.parlayCard)),1),t.earnedAmount(a.parlayCard)>0?(l(),r("div",U," ðŸ’° "+_(t.earnedAmount(a.parlayCard)),1)):L("",!0),t.allHit(a.parlayCard)?(l(),r("div",z," RETURNING ")):L("",!0),s("img",{src:a.profilePic,class:"casino-avatar"},null,8,W),s("h3",Y,_(o),1),s("div",q,[(l(!0),r(w,null,D(a.parlayCard,(d,v)=>(l(),r("div",{key:v,class:P(["parlay-row",{pending:d.hit===0,hit:d.hit===1,miss:d.hit===2}])},[s("div",J,_(d.parlay),1),s("div",K,_(d.worth),1),s("div",Q,_(t.statusLabel(d.hit)),1)],2))),128))])],2))),128))]))])}const Z=N(H,[["render",X],["__scopeId","data-v-2f7163a6"]]),aa={name:"IslandParlayLeaderboard",setup(){const u=m({}),e=m({}),y=m(!0);O(async()=>{try{const[a,o]=await Promise.all([fetch("/data/season1ParlayBase.json"),fetch("/data/season1Parlays.json")]);if(!a.ok||!o.ok)throw new Error("Failed to load leaderboard data");u.value=await a.json(),e.value=await o.json()}catch(a){console.error(a)}finally{y.value=!1}});const i=a=>{let o=0;return Object.values(e.value).forEach(d=>{d[a]?.parlayCard&&Object.values(d[a].parlayCard).forEach(v=>{v.hit===1&&(o+=Number(v.worth||0))})}),o},b=j(()=>Object.entries(u.value).map(([a,o])=>{const d=Number(o.base||0),v=Number(o.remove||0),x=i(a),I=d+x-v;return{name:a,total:I}}).sort((a,o)=>o.total-a.total));return{loading:y,leaderboard:b}}},ea={class:"leaderboard-wrapper"},ta={key:0,class:"loading"},sa={key:1,class:"leaderboard-table"},oa={class:"rank"},na={class:"name"},ra={class:"total"};function la(u,e,y,t,i,b){return l(),r("div",ea,[e[1]||(e[1]=s("h2",{class:"leaderboard-title"},"ðŸ† Parlay Wealth Leaderboard",-1)),t.loading?(l(),r("div",ta," Counting coinâ€¦ ")):(l(),r("div",sa,[e[0]||(e[0]=s("div",{class:"leaderboard-header"},[s("span",null,"#"),s("span",null,"Player"),s("span",null,"Total ðŸ’°")],-1)),(l(!0),r(w,null,D(t.leaderboard,(a,o)=>(l(),r("div",{key:a.name,class:P(["leaderboard-row",{top:o===0}])},[s("span",oa,"#"+_(o+1),1),s("span",na,_(a.name),1),s("span",ra,"ðŸ’° "+_(a.total),1)],2))),128))]))])}const da=N(aa,[["render",la],["__scopeId","data-v-14d9986d"]]),ca=E({name:"TheIslandHome",components:{Cards:Z,leaderboard:da,navbar:F},mounted(){document.body.style.background="linear-gradient(90deg,rgba(0, 0, 0, 1) 0%, rgba(75, 0, 102, 1) 100%)"}}),ia={class:"main-container"};function ua(u,e,y,t,i,b){const a=k("navbar"),o=k("leaderboard"),d=k("Cards");return l(),r("div",null,[C(a),s("div",ia,[C(o),C(d)])])}const va=N(ca,[["render",ua],["__scopeId","data-v-fd3f5de2"]]);export{va as default};
